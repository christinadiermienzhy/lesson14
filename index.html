<!DOCTYPE html>
<html>
<head>
	<title>
		
	</title>
</head>
<body>
	<script type="text/javascript">
/*У вас есть 2 вида бургеров - гамбургер и чизбургер. Они отличаются по составу, весу и калорийности. У чизбургера есть сыр и котлета из курицы, у гамбургера - говядина и сыра нет. Есть 2 размера md/xl
К ним можно заказать двойную котлету и выбрать какого именно вида, двойной соус, а для чизбургера - еще и двойной сыр. Можете дополнительно добавить картофель и полить майонезом или кетчупом.
Напишите программу, расчитывающую стоимость и калорийность гамбургера. конструктор Бургер, константы, методы для выбора опций и расчета нужных величин. Используйте дополнительные классы, по необходимости.
*/
		const BUNS=[
			{
				name:'cheeseBun',
				size:'MD',
				price:10,
				calorie:150
			},
			{
				name:'cheeseBun',
				size:'XL',
				price:20,
				calorie:300
			},
			{
				name:'humbBun',
				size:'MD',
				price:12,
				calorie:170,
			},
			{
				name:'humbBun',
				size:'XL',
				price:24,
				calorie:340
			},
			{
				name:'glutenFreeBun',
				size:'MD',
				price:20,
				calorie:60
			},
			{
				name:'glutenFreeBun',
				size:'XL',
				price:40,
				calorie:120
			}
		];
		 const CUTLET=[
		 	{
		 		name:'chiken',
				size:'MD',
		 		price:50,
		 		calorie:200
		 	},
		 	{
		 		name:'chiken',
		 		size:'XL',
		 		price:100,
		 		calorie:400
		 	},
		 	{
		 		name:'beef',
		 		size:'MD',
		 		price:60,
		 		calorie:280
		 	},
		 	{
		 		name:'beef',
		 		size:'XL',
		 		price:120,
		 		calorie:500
		 	}
		 ]
		 const SAUCE=[
		 	{
		 		name:'tomato',
		 		price:5,
		 		calorie:10
		 	},
		 	{
		 		name:'chili',
		 		price:7,
		 		calorie:12
		 	},
		 	{
		 		name:'garlic',
		 		price:7,
		 		calorie:12
		 	},
		 	{
		 		name:'mayo',
		 		price:8,
		 		calorie:15
		 	}
		 ]
		 const ADITIONALPRODUCTS=[
		 	{
		 		name:'cheese',
		 		price:15,
		 		calorie:30
		 	},
			{
		 		name:'vegetables',
		 		price:5,
		 		calorie:5
		 	}, 
		 	{
		 		name:'potatoes',
		 		price:50,
		 		calorie:200
		 	}
		 ]
		function CreateBurger(bun,cutlet,sauce){
			this.burgerBun=[];
			this.burgerBun.push(bun);
			this.burgerCutlet=[];
			this.burgerCutlet.push(cutlet);
			this.burgerSauce=[];
			this.burgerSauce.push(sauce);

		};


		CreateBurger.prototype.calculateCalories=function(){
			 return Object.values(this).reduce(function(prev, current){
			 	return prev+=current.reduce(function(pr, cr){
			 		return pr+=cr.calorie
			 	},0)
			 },0);
		}

		CreateBurger.prototype.calculatePrice=function(){
			 return Object.values(this).reduce(function(prev, current){
			 	return prev+=current.reduce(function(pr, cr){
			 		return pr+=cr.price;
			 	},0)
			 },0);
		}

		CreateBurger.prototype.addTopping=function(addedSauce){
			return this.burgerSauce.push(SAUCE.filter(item=>(item.name===addedSauce))[0]);
		}
	
		CreateBurger.prototype.addCutlet=function(cutletType, size){
			return this.burgerCutlet.push(CUTLET.filter(item=>(item.name===cutletType)&&(item.size===size))[0]);
		}

		CreateCheeseburger.prototype=Object.create(CreateBurger.prototype);
		function CreateCheeseburger(size='XL'){
				bun=BUNS.filter(item=>(item.name==='cheeseBun')&&(item.size===size))[0], 
				cutlet=CUTLET.filter(item=>(item.name==='chiken')&&(item.size===size))[0], 
				sauce=SAUCE.filter(item=>(item.name==='tomato'))[0], 
				additional=ADITIONALPRODUCTS.filter(item=>item.name==='cheese')[0]
				CreateBurger.call(this,bun,cutlet,sauce);
				this.burgerAdditional=[];
				this.burgerAdditional.push(additional);

		};
			CreateCheeseburger.prototype.addCheese=function(){
			return this.burgerAdditional.push(ADITIONALPRODUCTS.filter(item=>item.name==='cheese')[0]);
		}
		CreateCheeseburger.prototype.addSmt=function(additionalProduct){
			return this.burgerAdditional.push(ADITIONALPRODUCTS.filter(item=>item.name===additionalProduct)[0]);
		}

		CreateHamburger.prototype=Object.create(CreateBurger.prototype);
		function CreateHamburger(size='XL'){
			bun=BUNS.filter(item=>(item.name==='humbBun')&&(item.size===size))[0], 
			cutlet=CUTLET.filter(item=>(item.name==='beef')&&(item.size===size))[0], 
			sauce=SAUCE.filter(item=>(item.name==='chili'))[0], 
			additional=ADITIONALPRODUCTS.filter(item=>item.name==='vegetables')[0]
				CreateBurger.call(this,bun,cutlet,sauce);
				this.burgerAdditional=[];
				this.burgerAdditional.push(additional);
		};
		CreateHamburger.prototype.addSmt=function(additionalProduct){
			return this.burgerAdditional.push(ADITIONALPRODUCTS.filter(item=>item.name===additionalProduct)[0]);
		}


		/* need for test
		const cheeseburger=new CreateCheeseburger('MD');
		console.log(cheeseburger);
		console.log( 'Calories: '+ cheeseburger.calculateCalories());
		console.log('Price: ' + cheeseburger.calculatePrice());
		const cheeseburger=new CreateCheeseburger();
		console.log(cheeseburger);
		console.log( 'Calories: '+ cheeseburger.calculateCalories());
		console.log('Price: ' + cheeseburger.calculatePrice());
		cheeseburger.addTopping('mayo');
		cheeseburger.addTopping('tomato');
		console.log(cheeseburger);
		console.log( 'Calories: '+ cheeseburger.calculateCalories());
		console.log('Price: ' + cheeseburger.calculatePrice());
		cheeseburger.addCutlet('beef','XL');
		console.log(cheeseburger);
		console.log( 'Calories: '+ cheeseburger.calculateCalories());
		console.log('Price: ' + cheeseburger.calculatePrice());
		cheeseburger.addCheese();
		console.log(cheeseburger);
		console.log( 'Calories: '+ cheeseburger.calculateCalories());
		console.log('Price: ' + cheeseburger.calculatePrice());
		cheeseburger.addSmt('potatoes');
		console.log( 'Calories: '+ cheeseburger.calculateCalories());
		console.log('Price: ' + cheeseburger.calculatePrice());
		*/
		
		/*const hamburger = new CreateHamburger('MD');
		 console.log(hamburger);
		 console.log('Calories: ' + hamburger.calculateCalories());
		 console.log('Price: ' + hamburger.calculatePrice());
		hamburger.addTopping('chili')
		  console.log(hamburger);
		 console.log('Calories: ' + hamburger.calculateCalories());
		 console.log('Price: ' + hamburger.calculatePrice());
		 hamburger.addCutlet('beef','MD');
		 console.log(hamburger);
		 console.log('Calories: ' + hamburger.calculateCalories());
		 console.log('Price: ' + hamburger.calculatePrice());
		 */

</script>
</body>
</html>		